<div class="body">
  <div *ngIf="showToast" class="toatser">
    <app-toast message="User successfully added"></app-toast>
  </div>
  <button (click)="handleOpening()" class="add-button">
    <mat-icon class="icon">
      person_add
    </mat-icon>
    Add user
  </button>
  <div *ngIf="openForm" class="form-container">
    <div class="formbody">
      <form [formGroup]="userForm" (ngSubmit)="makepost()">
        <div class="form-item">
          <label for="firstName">First Name</label>
          <input type="text" id="firstName" formControlName="firstName">
          <div *ngIf="userForm.get('firstName')?.hasError('required')" class="error-message">
            First Name is required
          </div>
        </div>
        <div class="form-item">
          <label for="lastName">Last Name</label>
          <input type="text" id="lastName" formControlName="lastName">
          <div *ngIf="userForm.get('lastName')?.hasError('required')" class="error-message">
            Last Name is required
          </div>
        </div>
        <div class="form-item">
          <label for="email">Email</label>
          <input type="email" id="email" formControlName="email">
          <div *ngIf="userForm.get('email')?.hasError('required')" class="error-message">
            Email is required
          </div>
          <div *ngIf="userForm.get('email')?.hasError('email')" class="error-message">
            Invalid email format
          </div>
        </div>
        <div class="form-item">
          <label for="role">Role</label>
          <input type="text" id="role" formControlName="role">
          <div *ngIf="userForm.get('role')?.hasError('required')" class="error-message">
            Role is required
          </div>
        </div>
        <div class="buttons">
          <button type="button" (click)="closeForm()" class="cancel">Cancel</button>
          <button  type="submit" [disabled]="userForm.invalid" class="add">
            Add
            <div *ngIf="showSpinner"  class="roller">
              <app-spinner></app-spinner>
            </div>
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
